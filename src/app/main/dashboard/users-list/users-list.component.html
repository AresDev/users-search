<ng-container *ngIf="loading$ | async; else data">
  <ares-loader></ares-loader>
</ng-container>
<ng-template #data>
  <div *ngIf="(totalUsers$ | async) === 0">No users were found</div>
  <div *ngIf="(totalUsers$ | async) > 0">{{ totalUsers$ | async }} users</div>
  <div>
    <pagination-controls
      [directionLinks]="true"
      [autoHide]="true"
      [responsive]="true"
      *ngIf="(totalUsers$ | async) > 0"
      (pageChange)="handlePageChange($event)"
    ></pagination-controls>
    <p *ngIf="count">Total: totalUsers$ | async</p>
    <ul>
      <li
        *ngFor="
          let user of users$
            | async
            | paginate
              : {
                  itemsPerPage: pageSize,
                  currentPage: currentPage$ | async,
                  totalItems: totalUsers$ | async
                }
        "
      >
        <ares-user-item [user]="user"></ares-user-item>
      </li>
    </ul>
  </div>
</ng-template>
